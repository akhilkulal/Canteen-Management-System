valid_wrapper = require('./index')

var data = {
    email : 'trietho@gmail.com',
    email2: "bademail",
    firstname: "Triet",
    lastname: "",
    age: 1,
    password: "trietho@gmail.com",
    password2: "123456",
} 

//default tag is 'danger', set options to change the default tag
valid_wrapper.options({tag: 1}) 

valid_wrapper.pick(data.email)
    .empty('Main email must be not empty')
    .email('Main email is invalid')
    
    .pickNext(data.email2)
    .email('Second email is invalid')

    .pickNext(data.firstname)
    .empty('First name must be not empty')

    .pickNext(data.lastname)
    .length({min:3}, "Last name must has at least 3 characters")

    .pickNext(data.password)
    .equals(data.email, 'Password must be different from email', 'warning')
    .prepare("isAlpha").eval('Password contains letters a-zA-Z only')
    .diff(data.password2, 'Passwords do not match')
    
    .pickNext(data.age)
    .f("isInt", { min: 10, max: 99 }).x('Age must be between 10 and 99', 2)

    .pickNext(data.notexist)
    .empty('Notexist must be exist :)')



console.log(JSON.stringify(valid_wrapper.messages, null, 4))

/* ouput 

[{
        "message": "Second email is invalid",
        "tag": 1
    },
    {
        "message": "Last name must has at least 3 characters",
        "tag": 1
    },
    {
        "message": "Password must be different from email",
        "tag": "warning"
    },
    {
        "message": "Password contains letters a-zA-Z only",
        "tag": 1
    },
    {
        "message": "Passwords do not match",
        "tag": 1
    },
    {
        "message": "Age must be between 10 and 99",
        "tag": 2
    }
]

*/